(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33172],{5550:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return r},__assign:function(){return s},__rest:function(){return o},__decorate:function(){return a},__param:function(){return c},__metadata:function(){return u},__awaiter:function(){return l},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return g},__spread:function(){return v},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return w},__asyncGenerator:function(){return b},__asyncDelegator:function(){return x},__asyncValues:function(){return _},__makeTemplateObject:function(){return E},__importStar:function(){return j},__importDefault:function(){return P},__classPrivateFieldGet:function(){return A},__classPrivateFieldSet:function(){return I},__classPrivateFieldIn:function(){return T}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(c){a=[6,c],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var f=Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function m(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{(n=r[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(i){l(s[0][3],i)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function x(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:w(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return O(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function I(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function T(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},61054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NinetailedGoogleTagmanagerPlugin=void 0;const i=n(5550),r=n(1506),s=n(57156),o=/{{([\s\S]+?)}}/g;class a extends r.NinetailedAnalyticsPlugin{constructor(e={}){super(Object.assign(Object.assign({},e.template),{event:"nt_experience",ninetailed_variant:"{{selectedVariantSelector}}",ninetailed_experience:"{{experience.id}}",ninetailed_experience_name:"{{experience.name}}",ninetailed_audience:"{{audience.id}}",ninetailed_component:"{{selectedVariant.id}}"})),this.options=e,this.name="ninetailed:googleTagmanager",this.initialize=()=>{"undefined"!==typeof window&&(window.dataLayer=window.dataLayer||[])}}onTrackExperience(e,t){var n;return i.__awaiter(this,void 0,void 0,(function*(){null===(n=window.dataLayer)||void 0===n||n.push(t)}))}onTrackComponent(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){const{variant:n,audience:i,isPersonalized:r}=e,a=(0,s.template)(this.options.actionTemplate||"Has Seen Experience",{component:n,audience:i},o),c=(0,s.template)(this.options.labelTemplate||"{{ baselineOrVariant }}:{{ component.id }}",{component:n,audience:i,baselineOrVariant:r?"Variant":"Baseline"},o);null===(t=window.dataLayer)||void 0===t||t.push({event:a,properties:{category:"Ninetailed",label:c,nonInteraction:!0}})}))}}t.NinetailedGoogleTagmanagerPlugin=a},8038:function(e,t,n){"use strict";t.ZP=void 0;var i=n(61054);var r=n(61054);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.NinetailedGoogleTagmanagerPlugin}})},84078:function(e,t,n){"use strict";var i=n(92891),r=n(27264),s=n(57156),o=n(61111),a=n(1506);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=c(o);function l(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}class d extends Error{constructor(e,t=500){super(e),this.status=t,Object.setPrototypeOf(this,d.prototype)}}class f{constructor({clientId:e,environment:t="main",url:n="https://ingest.insights.ninetailed.co"}){this.clientId=e,this.environment=t,this.url=n}logRequestError(e,{requestName:t}){e instanceof Error&&("AbortError"===e.name?s.logger.warn(`${t} request aborted due to network issues. This request is not retryable.`):s.logger.error(`${t} request failed with error: [${e.name}] ${e.message}`))}makeRequest(e,t,n,i){const{useBeacon:r=!1,timeout:o=3e3,retries:a=1,minRetryTimeout:c=0}=i,f=this.constructUrl(e);if(!r)return u.default((e=>l(this,void 0,void 0,(function*(){try{const i=yield s.fetchTimeout(f,{method:"POST",headers:this.constructHeaders(),body:JSON.stringify(t),timeout:o});if(503===i.status)throw new d(`${n} request failed with status: "[${i.status}] ${i.statusText}".`,503);return i.ok?(s.logger.debug(`${n} response: `,i),i):(e(new Error(`${n} request failed with status: "[${i.status}] ${i.statusText} - traceparent: ${i.headers.get("traceparent")}". This request is not retryable`)),null)}catch(i){if(i instanceof d&&503===i.status)throw i;return i instanceof Error?e(i):e(new Error(`${n} request failed with an unknown error. This request is not retryable.`)),null}}))),{retries:a,minTimeout:c,onRetry:(e,t)=>s.logger.error(`${e.message} Retrying (attempt ${t}).`)});{const e=new Blob([JSON.stringify(t)],{type:"text/plain"});navigator.sendBeacon(f,e)}}sendEventBatches(e,t={}){return l(this,void 0,void 0,(function*(){const n="Send component view batches";s.logger.info(`Sending ${n} request.`),s.logger.debug(`${n} request Body: `,e);try{yield this.makeRequest(`/v1/organizations/${this.clientId}/environments/${this.environment}/events`,e,n,t),s.logger.debug(`${n} request succesfully completed.`)}catch(i){if(this.logRequestError(i,{requestName:n}),!(i instanceof Error)||"AbortError"!==i.name)throw i}}))}constructUrl(e){return new URL(e,this.url).toString()}constructHeaders(){const e=new Map;return e.set("Content-Type","application/json"),Object.fromEntries(e)}}var p,h,g;class v extends a.NinetailedPlugin{constructor({url:e}={}){super(),this.name="ninetailed:insights",this.seenElements=new WeakMap,this.events=[],this.eventsQueue=[],this.initialize=({instance:e})=>l(this,void 0,void 0,(function*(){this.instance=e})),this.onHasSeenElement=({payload:e})=>{var t;const{element:n,experience:s,variant:o,variantIndex:a}=e,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["element"]),u=o.id;if("undefined"===typeof u)return;const l=this.seenElements.get(e.element)||[];l.some((e=>i.isEqual(e,c)))||(this.seenElements.set(n,[...l,c]),null===(t=this.instance)||void 0===t||t.dispatch({type:r.COMPONENT_START,componentId:u,variantIndex:a,experienceId:null===s||void 0===s?void 0:s.id}))},this[p]=({payload:e})=>{if(!this.eventBuilder)return void s.logger.error("EventBuilder is not injected. Cannot build event. Skipping.");const{componentId:t,experienceId:n,variantIndex:i}=e,r=this.eventBuilder.component(t,n,i);this.events.push(r),this.shouldFlushEventsQueue()&&(this.profile&&this.createEventsBatch(this.profile),this.flushEventsQueue())},this[h]=({payload:e})=>{var t;const{profile:n}=e,i=null!==(t=this.profile)&&void 0!==t?t:n;i&&this.createEventsBatch(i),this.profile=null!==n&&void 0!==n?n:void 0,this.seenElements=new WeakMap},this[g]=()=>{this.profile&&(this.createEventsBatch(this.profile),this.flushEventsQueue(!0))},this.insightsApiClientUrl=e}createEventsBatch(e){if(0===this.events.length)return;const t={profile:e,events:this.events};this.eventsQueue.push(t),this.events=[]}shouldFlushEventsQueue(){return this.eventsQueue.map((({events:e})=>e)).flat().length+this.events.length===v.MAX_EVENTS}flushEventsQueue(e=!1){var t;0!==this.eventsQueue.length&&(null===(t=this.insightsApiClient)||void 0===t||t.sendEventBatches(this.eventsQueue,{useBeacon:e}),this.eventsQueue=[])}setCredentials(e){this.insightsApiClient=new f({url:this.insightsApiClientUrl,clientId:e.clientId,environment:e.environment})}setEventBuilder(e){this.eventBuilder=e}}p=r.COMPONENT,h=r.PROFILE_CHANGE,g=r.PAGE_HIDDEN,v.MAX_EVENTS=25,t.ZP=v},13294:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57156),r=n(27264),s=n(1506);function o(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}const c="translate(384px, 0px)",u="translate(432px, 0px)";class l{constructor(e){var t;this.container=void 0,this.options=e,this.container=document.createElement("div"),this.container.classList.add(l.CONTAINER_CLASS),this.container.style.position="fixed",this.container.style.zIndex="999999",this.container.style.right="0px",this.container.style.bottom="128px",this.container.style.width="432px",this.container.style.height="192px",this.container.style.overflow="hidden",null!=(t=e.ui)&&null!=(t=t.opener)&&t.hide?this.container.style.transform=u:this.container.style.transform=c,this.container.style.transitionTimingFunction="cubic-bezier(0.4, 0, 0.2, 1)",this.container.style.transitionDuration="700ms",this.container.style.transitionProperty="transform",document.body.appendChild(this.container)}open(){this.container.style.transform="translate(0px, 0px)",this.container.style.height="100vh",this.container.style.bottom="0px"}close(){var e;null!=(e=this.options.ui)&&null!=(e=e.opener)&&e.hide?this.container.style.transform=u:this.container.style.transform=c,setTimeout((()=>{this.container.style.height="192px",this.container.style.bottom="128px"}),700)}get element(){return this.container}static isContainerAttached(){return null!==document.querySelector(`.${l.CONTAINER_CLASS}`)}}l.CONTAINER_CLASS="nt-preview-widget-container";class d extends s.NinetailedPlugin{constructor(e){var t;super(),t=this,this.name="ninetailed:preview"+Math.random(),this.isOpen=!1,this.experiences=[],this.audienceDefinitions=[],this.audienceOverwrites={},this.experienceVariantIndexOverwrites={},this.profile=null,this.container=null,this.bridge=null,this.isActiveInstance=!1,this.onChangeEmitter=new r.OnChangeEmitter,this.onOpenExperienceEditor=void 0,this.onOpenAudienceEditor=void 0,this.clientId=null,this.environment=null,this.initialize=async function(){if("undefined"!==typeof window){var e;if(l.isContainerAttached())return i.logger.warn("Preview plugin is already attached."),void(t.isActiveInstance=!1);const{PreviewBridge:r}=await Promise.all([n.e(54535),n.e(24421),n.e(76190)]).then(n.bind(n,76190));t.isActiveInstance=!0,t.container=new l({ui:t.options.ui}),t.bridge=r({url:t.options.url}),t.bridge.render(t.container.element),window.ninetailed=Object.assign({},window.ninetailed,{plugins:Object.assign({},null==(e=window.ninetailed)?void 0:e.plugins,{preview:t.windowApi})}),t.bridge.updateProps({props:t.pluginApi})}},this.loaded=()=>!0,this[r.PROFILE_CHANGE]=({payload:e})=>{this.isActiveInstance&&null!=e&&e.profile&&this.onProfileChange(e.profile)},this.getExperienceSelectionMiddleware=({baseline:e,experiences:t})=>{if(this.isActiveInstance)return()=>{const n=Object.keys(this.pluginApi.experienceVariantIndexes),i=t.find((e=>n.includes(e.id)));if(!i)return{experience:null,variant:e,variantIndex:0};const r=i.components.find((t=>t.baseline.id===e.id));if(!r)return{experience:i,variant:e,variantIndex:0};const s=[e,...r.variants],o=this.pluginApi.experienceVariantIndexes[i.id];if(s.length<=o)return{experience:i,variant:e,variantIndex:0};const a=s[o];return a?{experience:i,variant:a,variantIndex:o}:{experience:i,variant:e,variantIndex:0}}},this.onChange=()=>{var e;i.logger.debug("Ninetailed Preview Plugin onChange pluginApi:",this.pluginApi),Object.assign({},window.ninetailed,{plugins:Object.assign({},null==(e=window.ninetailed)?void 0:e.plugins,{preview:this.windowApi})}),this.bridge.updateProps({props:this.pluginApi}),this.onChangeEmitter.invokeListeners()},this.onProfileChange=e=>{this.profile=e,this.onChange()},this.setCredentials=({clientId:e,environment:t})=>{this.clientId=e,this.environment=t},this.options=e,this.experiences=e.experiences||[],this.audienceDefinitions=e.audiences||[],this.onOpenExperienceEditor=e.onOpenExperienceEditor,this.onOpenAudienceEditor=e.onOpenAudienceEditor}open(){var e;this.isActiveInstance&&(null==(e=this.container)||e.open(),this.isOpen=!0,this.onChange())}close(){var e;this.isActiveInstance&&(null==(e=this.container)||e.close(),setTimeout((()=>{this.isOpen=!1,this.onChange()}),700))}toggle(){this.isActiveInstance&&(this.isOpen?this.close():this.open())}activateAudience(e){this.isActiveInstance&&(this.isKnownAudience(e)?(this.audienceOverwrites=Object.assign({},this.audienceOverwrites,{[e]:!0}),this.experienceVariantIndexOverwrites=Object.assign({},this.experienceVariantIndexOverwrites,this.experiences.filter((t=>{var n;return(null==(n=t.audience)?void 0:n.id)===e})).map((e=>e.id)).reduce(((e,t)=>Object.assign({},e,{[t]:this.experienceVariantIndexes[t]||0})),{})),this.onChange()):i.logger.warn(`You cannot activate an unknown audience (id: ${e}).`))}deactivateAudience(e){this.isActiveInstance&&(this.isKnownAudience(e)?(this.experienceVariantIndexOverwrites=Object.entries(this.experienceVariantIndexOverwrites).filter((([t,n])=>!this.experiences.filter((t=>{var n;return(null==(n=t.audience)?void 0:n.id)===e})).map((e=>e.id)).includes(t))).reduce(((e,[t,n])=>Object.assign({},e,{[t]:n})),{}),this.audienceOverwrites=Object.assign({},this.audienceOverwrites,{[e]:!1}),this.onChange(),this.experiences.filter((t=>{var n;return(null==(n=t.audience)?void 0:n.id)===e})).forEach((e=>{this.setExperienceVariant({experienceId:e.id,variantIndex:0})})),this.audienceOverwrites=Object.assign({},this.audienceOverwrites,{[e]:!1}),this.onChange()):i.logger.warn(`You cannot deactivate an unknown audience (id: ${e}). How did you get it in the first place?`))}resetAudience(e){if(!this.isActiveInstance)return;if(!this.isKnownAudience(e))return void i.logger.warn(`You cannot reset an unknown audience (id: ${e}). How did you get it in the first place?`);const t=o(this.audienceOverwrites,[e].map(a));this.audienceOverwrites=t,this.onChange()}setExperienceVariant({experienceId:e,variantIndex:t}){if(!this.isActiveInstance)return;const n=this.experiences.find((t=>t.id===e));if(!n)return void i.logger.warn(`You cannot active a variant for an unknown experience (id: ${e})`);if(n.audience&&!this.activeAudiences.some((e=>{var t;return e===(null==(t=n.audience)?void 0:t.id)})))return void i.logger.warn(`You cannot active a variant for an experience (id: ${e}), which is not in the active audiences.`);n.components.map((e=>e.variants.length+1)).every((e=>e>t))||i.logger.warn(`You activated a variant at index ${t} for the experience (id: ${e}). Not all components have that many variants, you may see the baseline for some.`),this.experienceVariantIndexOverwrites=Object.assign({},this.experienceVariantIndexOverwrites,{[e]:t}),this.onChange()}resetExperience(e){if(!this.isActiveInstance)return;const t=o(this.experienceVariantIndexOverwrites,[e].map(a));this.experienceVariantIndexOverwrites=t,this.onChange()}reset(){this.isActiveInstance&&"undefined"!==typeof window&&window.ninetailed&&"function"===typeof window.ninetailed.reset&&window.ninetailed.reset()}openExperienceEditor(e){if(this.onOpenExperienceEditor&&"function"===typeof this.onOpenExperienceEditor)return this.onOpenExperienceEditor(e)}openExperienceAnalytics(e){window.open(`https://app.ninetailed.io/${this.clientId}/${this.environment}/experiences/${e.id}`,"_blank")}openAudienceEditor(e){if(this.onOpenAudienceEditor&&"function"===typeof this.onOpenAudienceEditor)return this.onOpenAudienceEditor(e)}get pluginApi(){var e;return{version:"7.10.0",open:this.open.bind(this),close:this.close.bind(this),toggle:this.toggle.bind(this),isOpen:this.isOpen,activateAudience:this.activateAudience.bind(this),deactivateAudience:this.deactivateAudience.bind(this),resetAudience:this.resetAudience.bind(this),apiAudiences:(null==(e=this.profile)?void 0:e.audiences)||[],audienceOverwrites:this.audienceOverwrites,activeAudiences:this.activeAudiences,audienceDefinitions:this.audienceDefinitions,setExperienceVariant:this.setExperienceVariant.bind(this),resetExperience:this.resetExperience.bind(this),apiExperienceVariantIndexes:this.apiExperienceVariantIndexes,experienceVariantIndexes:Object.assign({},this.experienceVariantIndexes,this.experienceVariantIndexOverwrites),experienceVariantIndexOverwrites:this.experienceVariantIndexOverwrites,reset:this.reset.bind(this),experiences:this.experiences,openExperienceEditor:this.onOpenExperienceEditor?this.openExperienceEditor.bind(this):void 0,openExperienceAnalytics:this.openExperienceAnalytics.bind(this),openAudienceEditor:this.onOpenAudienceEditor?this.openAudienceEditor.bind(this):void 0}}get windowApi(){return{version:"2.0.0",open:this.open.bind(this),close:this.close.bind(this),toggle:this.toggle.bind(this),activateAudience:this.activateAudience.bind(this),deactivateAudience:this.deactivateAudience.bind(this),resetAudience:this.resetAudience.bind(this),activeAudiences:this.activeAudiences,setExperienceVariant:this.setExperienceVariant.bind(this),resetExperience:this.resetExperience.bind(this),experienceVariantIndexes:Object.assign({},this.experienceVariantIndexes,this.experienceVariantIndexOverwrites)}}isKnownAudience(e){return this.potentialAudiences.some((t=>t.id===e))}get potentialAudiences(){const e=this.experiences.map((e=>e.audience)).filter((e=>!!e));return(0,i.unionBy)(this.audienceDefinitions,e,"id")}get activeAudiences(){var e;const t=Object.entries(this.audienceOverwrites).filter((([e,t])=>!t)).map((([e])=>e)),n=Object.entries(this.audienceOverwrites).filter((([e,t])=>t)).map((([e])=>e));return[...(null==(e=this.profile)?void 0:e.audiences)||[],...n].filter((e=>!t.includes(e)))}calculateExperienceVariantIndexes(e){return this.experiences.filter((t=>(0,r.isExperienceMatch)({experience:t,profile:e}))).reduce(((t,n)=>{const i=(0,r.selectDistribution)({experience:n,profile:e});return Object.assign({},t,{[n.id]:i.index})}),{})}get apiExperienceVariantIndexes(){const e=this.profile;return e?this.calculateExperienceVariantIndexes(e):{}}get experienceVariantIndexes(){const e=this.profile;return e?this.calculateExperienceVariantIndexes(Object.assign({},e,{audiences:this.activeAudiences})):{}}}"object"!==typeof window||"process"in window||(window.process={})},66922:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return r},__assign:function(){return s},__rest:function(){return o},__decorate:function(){return a},__param:function(){return c},__metadata:function(){return u},__awaiter:function(){return l},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return h},__read:function(){return g},__spread:function(){return v},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return w},__asyncGenerator:function(){return b},__asyncDelegator:function(){return x},__asyncValues:function(){return _},__makeTemplateObject:function(){return E},__importStar:function(){return j},__importDefault:function(){return P},__classPrivateFieldGet:function(){return A},__classPrivateFieldSet:function(){return I},__classPrivateFieldIn:function(){return T}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function a(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(c){a=[6,c],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var f=Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function m(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){s.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{(n=r[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(i){l(s[0][3],i)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function x(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:w(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return O(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function I(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function T(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},48798:function(e,t,n){"use strict";var i,r,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.NinetailedPrivacyPlugin=t.DEFAULT_ACCEPTED_CONSENT_CONFIG=t.DEFAULT_PRIVACY_CONFIG=t.PLUGIN_NAME=void 0;const a=n(66922),c=n(57156),u=n(27264),l=a.__importDefault(n(55828)),d=n(92891),f=n(1506);t.PLUGIN_NAME="ninetailed:privacy",t.DEFAULT_PRIVACY_CONFIG={allowedEvents:["page"],allowedPageEventProperties:["*"],allowedTrackEventProperties:[],allowedTrackEvents:[],allowedTraits:[],blockProfileMerging:!0,enabledFeatures:[]},t.DEFAULT_ACCEPTED_CONSENT_CONFIG={allowedEvents:["page","track","identify","component"],allowedPageEventProperties:["*"],allowedTrackEventProperties:["*"],allowedTrackEvents:["*"],allowedTraits:["*"],blockProfileMerging:!1,enabledFeatures:Object.values(c.FEATURES)};const p=`page:${u.PLUGIN_NAME}`,h=`track:${u.PLUGIN_NAME}`,g=`identify:${u.PLUGIN_NAME}`;class v extends f.NinetailedPlugin{constructor(e,n){super(),this.name=t.PLUGIN_NAME,this._instance=null,this._ready=!1,this.queue=[],this.initialize=({instance:e})=>a.__awaiter(this,void 0,void 0,(function*(){this._instance=e,e.on("setItemEnd",(({payload:{key:e}})=>a.__awaiter(this,void 0,void 0,(function*(){e===u.CONSENT&&(yield this.enableFeatures(this.getConfig().enabledFeatures))})))),yield this.enableFeatures(this.getConfig().enabledFeatures),this.registerWindowHandlers(),this._ready=!0})),this.ready=()=>a.__awaiter(this,void 0,void 0,(function*(){return this._ready})),this.loaded=()=>this._ready,this.handleEventStart=(e,t)=>({payload:n,abort:i})=>this.getConfig().allowedEvents.includes(e)?"function"===typeof t?t(n,i):n:(this.queue.push(n),i()),this.pageStart=this.handleEventStart("page"),this[i]=this.handleEventStart("page",(e=>{const t=this.pickAllowedKeys(e.properties,this.getConfig().allowedPageEventProperties);return(0,d.isEqual)(e.properties,t)||c.logger.info("[Ninetailed Privacy Plugin] Some properties were removed from the page event, as they are not allowed to send by your configuration. The following properties were kept:",t),Object.assign(Object.assign({},e),{properties:t})})),this.trackStart=this.handleEventStart("track"),this[r]=this.handleEventStart("track",((e,t)=>{if(!this.getConfig().allowedTrackEvents.includes("*")&&!this.getConfig().allowedTrackEvents.includes(e.event))return c.logger.info("[Ninetailed Privacy Plugin] The track event was blocked, as it is not allowed to send by your configuration."),this.queue.push(e),t();const n=this.pickAllowedKeys(e.properties,this.getConfig().allowedTrackEventProperties);return(0,d.isEqual)(e.properties,n)||c.logger.info("[Ninetailed Privacy Plugin] Some properties were removed from the track event, as they are not allowed to send by your configuration. The following properties were kept:",n),Object.assign(Object.assign({},e),{properties:n})})),this.identifyStart=this.handleEventStart("identify"),this[s]=this.handleEventStart("identify",(e=>{const t=this.pickAllowedKeys(e.traits,this.getConfig().allowedTraits);(0,d.isEqual)(e.traits,t)||c.logger.info("[Ninetailed Privacy Plugin] Some traits were removed from the identify event, as they are not allowed to send by your configuration. The following traits were kept:",t),this.getConfig().blockProfileMerging&&e.userId&&c.logger.info("[Ninetailed Privacy Plugin] Profile merging is blocked. The userId will be ignored.");const n=this.getConfig().blockProfileMerging?"":e.userId;return Object.assign(Object.assign({},e),{traits:t,userId:n})})),this[o]=this.handleEventStart(u.COMPONENT),this.methods={consent:this.consent.bind(this)},this.config=Object.assign(Object.assign({},t.DEFAULT_PRIVACY_CONFIG),e),this.acceptedConsentConfig=Object.assign(Object.assign({},t.DEFAULT_ACCEPTED_CONSENT_CONFIG),n)}get instance(){if(!this._instance)throw new Error("The Ninetailed Privacy Plugin was not initialized correctly. Please make sure to call the initialize method before using it.");return this._instance}consent(e){e?this.instance.storage.setItem(u.CONSENT,"accepted"):this.instance.storage.removeItem(u.CONSENT)}isConsentGiven(){const e=this.instance.storage.getItem(u.CONSENT);return e&&"accepted"===e}registerWindowHandlers(){if("undefined"!==typeof window)try{window.ninetailed=Object.assign({},window.ninetailed,{consent:this.consent.bind(this)})}catch(e){window.ninetailed=Object.assign({},window.ninetailed,{consent:()=>{console.warn("The ninetailed privacy plugin consent method could not get initialized.")}})}}getConfig(){return this.isConsentGiven()?this.acceptedConsentConfig:this.config}pickAllowedKeys(e,t){if(t.includes("*"))return e;const n=t.map((e=>(0,l.default)(e)));return(0,c.pickBy)(e,((e,t)=>n.filter((e=>e(t))).length>0))}enableFeatures(e){return a.__awaiter(this,void 0,void 0,(function*(){yield this.instance.dispatch({type:u.SET_ENABLED_FEATURES,features:e})}))}}t.NinetailedPrivacyPlugin=v,i=p,r=h,s=g,o=u.COMPONENT_START},53635:function(e,t,n){"use strict";t.ZP=void 0;var i=n(48798);var r=n(48798);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.NinetailedPrivacyPlugin}})},60327:function(e,t,n){"use strict";n.d(t,{BL:function(){return P}});var i=n(23554),r=n(57156);const s=i.z.object({id:i.z.string(),name:i.z.string().optional(),description:i.z.string().optional()}),o=i.z.object({distribution:i.z.array(i.z.number()).optional().default([.5,.5]),traffic:i.z.number().optional().default(0),components:i.z.array(i.z.object({baseline:i.z.object({id:i.z.string().default("")}),variants:i.z.array(i.z.object({id:i.z.string().default(""),hidden:i.z.boolean().default(!1)}))})).optional().default([{baseline:{id:""},variants:[{id:"",hidden:!1}]}]),sticky:i.z.boolean().optional().default(!1)}),a=i.z.object({id:i.z.string()}).catchall(i.z.unknown());const c=i.z.object({id:i.z.string(),name:i.z.string(),description:i.z.string().optional(),type:i.z.union([i.z.string().regex(/^nt_experiment$/g),i.z.string().regex(/^nt_personalization$/g)]),config:o.default({}),audience:s.optional().nullable(),variants:function(e){const t=t=>e.safeParse(t).success;return i.z.preprocess((e=>function(e){if(function(e){return Array.isArray(e)}(e))return e;return[e]}(e).filter(t)),i.z.array(e))}(a).default([])}),u=Object.assign({},c,{parse:e=>{const t=c.parse(e);return Object.assign({},t,{variants:t.variants})},safeParse:e=>{const t=c.safeParse(e);return t.success?Object.assign({},t,{data:Object.assign({},t.data,{variants:t.data.variants})}):t}}),l=c.extend({type:i.z.string().regex(/^nt_experiment$/g)}),d=Object.assign({},l,{parse:e=>{const t=l.parse(e);return Object.assign({},t,{variants:t.variants})},safeParse:e=>{const t=l.safeParse(e);return t.success?Object.assign({},t,{data:Object.assign({},t.data,{variants:t.data.variants})}):t}});class f{static isExperienceEntry(e){return u.safeParse(e).success}static mapExperience(e){const t=u.safeParse(e);if(!t.success)throw r.logger.warn("[Ninetailed ExperienceMapper]","Error parsing experience",t.error.format()),new Error(`[Ninetailed ExperienceMapper] The Experience Input is not valid. Please filter data first with "ExperienceMapper.isExperienceEntry".\n${JSON.stringify(t.error.format(),null,2)}`);const{id:n,type:i,name:s,description:o,audience:a,config:c,variants:l}=t.data,{components:d,traffic:f,sticky:p}=c;return Object.assign({id:n,type:i,name:s},o?{description:o}:{},a?{audience:a}:{},{trafficAllocation:f,distribution:c.distribution.map(((e,t)=>({index:t,start:c.distribution.slice(0,t).reduce(((e,t)=>e+t),0),end:c.distribution.slice(0,t+1).reduce(((e,t)=>e+t),0)}))),sticky:p,components:d.map((e=>({baseline:e.baseline,variants:e.variants.map((e=>{if(e.hidden)return e;const t=l.find((t=>t.id===e.id));return null!=t?t:null})).filter((e=>null!==e))})))})}static isExperimentEntry(e){return d.safeParse(e).success}static mapExperiment(e){return f.mapExperience(e)}}const p=i.z.object({}).passthrough(),h=i.z.object({type:i.z.string().optional(),linkType:i.z.string().optional(),id:i.z.string()}),g=i.z.object({sys:h}),v=i.z.object({sys:i.z.object({type:i.z.string().optional(),id:i.z.string(),createdAt:i.z.string().optional(),updatedAt:i.z.string().optional(),locale:i.z.string().optional(),revision:i.z.number().optional(),space:g.optional(),environment:g.optional(),contentType:g.optional()}),fields:p,metadata:i.z.object({tags:i.z.array(i.z.object({sys:h.extend({linkType:i.z.string()})}))}).optional()}),y=(Object.assign({},v,{parse:e=>{const t=v.parse(e);return Object.assign({},t,{fields:e.fields})},safeParse:e=>{const t=v.safeParse(e);return t.success?Object.assign({},t,{data:Object.assign({},t.data,{fields:e.fields})}):t}}),p.extend({nt_name:i.z.string(),nt_description:i.z.string().optional(),nt_audience_id:i.z.string()})),m=v.extend({fields:y});const w=i.z.object({nt_name:i.z.string(),nt_description:i.z.string().optional().nullable(),nt_type:i.z.union([i.z.string(),i.z.string()]),nt_config:o.optional().nullable().default(null).transform((e=>null!=e?e:{traffic:0,distribution:[.5,.5],components:[],sticky:!1})),nt_audience:m.optional().nullable(),nt_variants:i.z.array(v).optional()}),b=v.extend({fields:w}),x=Object.assign({},b,{parse:e=>{const t=b.parse(e);return Object.assign({},t,{fields:Object.assign({},t.fields,{nt_variants:e.fields.nt_variants||[]})})},safeParse:e=>{const t=b.safeParse(e);return t.success?Object.assign({},t,{data:Object.assign({},t.data,{fields:Object.assign({},t.data.fields,{nt_variants:e.fields.nt_variants||[]})})}):t}}),_=b.extend({fields:w.extend({nt_type:i.z.string().regex(/^nt_experiment$/g)})}),E=Object.assign({},_,{parse:e=>{const t=_.parse(e);return Object.assign({},t,{fields:Object.assign({},t.fields,{nt_variants:e.fields.nt_variants||[]})})},safeParse:e=>{const t=_.safeParse(e);return t.success?Object.assign({},t,{data:Object.assign({},t.data,{fields:Object.assign({},t.data.fields,{nt_variants:e.fields.nt_variants||[]})})}):t}});function O(e,t,n){const{nt_name:i,nt_description:r,nt_type:s,nt_audience:o,nt_config:a}=t;return Object.assign({id:e,name:i,description:r||"",type:s},o?{audience:(c=o,{id:c.fields.nt_audience_id,name:c.fields.nt_name,description:c.fields.nt_description||""})}:{},{config:a,variants:n});var c}function j(e){const t=x.safeParse(e);if(!t.success)throw r.logger.warn("[Ninetailed Contentful ExperienceMapper]","Error parsing experience",t.error.format()),new Error(`[Ninetailed Contentful ExperienceMapper] The Experience Input is not valid. Please filter data first with "ExperienceMapper.isExperienceEntry".\n${JSON.stringify(t.error.format(),null,2)}`);return t.data}class P{static isExperienceEntry(e){return x.safeParse(e).success}static mapExperience(e){const{sys:t,fields:n}=j(e),i=n.nt_variants.map((e=>Object.assign({},e,{id:e.sys.id}))),r=O(t.id,n,i);return f.mapExperience(r)}static mapCustomExperience(e,t){const{sys:n,fields:i}=j(e),r=i.nt_variants.map(t),s=O(n.id,i,r);return f.mapExperience(s)}static async mapCustomExperienceAsync(e,t){const{sys:n,fields:i}=j(e),r=await Promise.all(i.nt_variants.map(t)),s=O(n.id,i,r);return f.mapExperience(s)}static isExperiment(e){return E.safeParse(e).success}static mapExperiment(e){return P.mapCustomExperience(e,(()=>({id:""})))}static mapBaselineWithExperiences(e){return e.fields.nt_experiences.filter(P.isExperienceEntry).map((e=>P.mapExperience(e)))}}},41013:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});Math.pow(10,8);var i=36e5,r=n(19785),s=n(42765);function o(e,t){var n;(0,r.Z)(1,arguments);var i=(0,s.Z)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,a=d(e);if(a.date){var c=f(a.date,i);o=p(c.restDateString,c.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var u,l=o.getTime(),h=0;if(a.time&&(h=g(a.time),isNaN(h)))return new Date(NaN);if(!a.timezone){var v=new Date(l+h),m=new Date(0);return m.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),m.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),m}return u=y(a.timezone),isNaN(u)?new Date(NaN):new Date(l+h+u)}var a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){var t,n={},i=e.split(a.dateTimeDelimiter);if(i.length>2)return n;if(/:/.test(i[0])?t=i[0]:(n.date=i[0],t=i[1],a.timeZoneDelimiter.test(n.date)&&(n.date=e.split(a.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var r=a.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}function f(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:null===s?r:100*s,restDateString:e.slice((i[1]||i[2]).length)}}function p(e,t){if(null===t)return new Date(NaN);var n=e.match(c);if(!n)return new Date(NaN);var i=!!n[4],r=h(n[1]),s=h(n[2])-1,o=h(n[3]),a=h(n[4]),u=h(n[5])-1;if(i)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,u)?function(e,t,n){var i=new Date(0);i.setUTCFullYear(e,0,4);var r=i.getUTCDay()||7,s=7*(t-1)+n+1-r;return i.setUTCDate(i.getUTCDate()+s),i}(t,a,u):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m[t]||(w(e)?29:28))}(t,s,o)&&function(e,t){return t>=1&&t<=(w(e)?366:365)}(t,r)?(l.setUTCFullYear(t,s,Math.max(r,o)),l):new Date(NaN)}function h(e){return e?parseInt(e):1}function g(e){var t=e.match(u);if(!t)return NaN;var n=v(t[1]),r=v(t[2]),s=v(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,s)?n*i+6e4*r+1e3*s:NaN}function v(e){return e&&parseFloat(e.replace(",","."))||0}function y(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,s)?n*(r*i+6e4*s):NaN}var m=[31,null,31,30,31,30,31,31,30,31,30,31];function w(e){return e%400===0||e%4===0&&e%100!==0}},33158:function(e,t){"use strict";t.Z="https://cdn.robinhood.com/assets/generated_assets/brand/_next/static/images/crypto-space-paths-mobile__9154760a2286aa7871ce8ba03670f55564ce1532e24b525664820b6173523254.jpg"},28327:function(e,t){"use strict";t.Z="https://cdn.robinhood.com/assets/generated_assets/brand/_next/static/images/crypto-space-paths__5ee0f2d9fd197e39e67c5cc7afc49d663b2d4f1ff8b1fe519e73d3f95ea3a7cf.jpg"},25574:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});n(2784);var i=n(28165);function r(){return(0,i.tZ)("svg",{fill:"none",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("path",{clipRule:"evenodd",d:"m14.193 4.171-5 12.123-2.607-4.583H3v1.5h2.714l3.694 6.495L14.307 7.83l3.074 6.306H21v-1.5h-2.681L14.193 4.17Z",fillRule:"evenodd"}))}},89386:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});n(2784);var i=n(28165);function r(){return(0,i.tZ)("svg",{height:"24",role:"img",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2Zm3.2 15.2L11 13V6h2v6.2l3.7 3.7-1.5 1.3Z"}))}},18150:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});n(2784);var i=n(28165);function r(){return(0,i.tZ)("svg",{fill:"none",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("path",{d:"M6.9 21H3v-3.9l2.166-2.166 3.9 3.9L6.9 21Zm3.58-3.58-3.9-3.9 6.763-6.763 3.9 3.9-6.763 6.763Zm8.177-8.177L21.4 6.5l-3.9-3.9-2.743 2.743 3.9 3.9Z"}))}},44721:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});n(2784);var i=n(28165);function r(){return(0,i.tZ)("svg",{fill:"none",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,i.tZ)("path",{d:"M5.4 11c0 2.5-.4 4.9-1.7 6h16.7c-1.4-1.1-1.7-3.5-1.7-6V8.7C18.7 5 15.7 2 12 2S5.3 5 5.4 8.7V11ZM12 22c1.4 0 2.5-1.1 2.5-2.5V19h-5v.5c0 1.4 1.1 2.5 2.5 2.5Z"}))}},31731:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var i=n(2784),r=n(54406),s=n(36293),o=function(){var e=(0,r.ew)().gdpr;return(0,i.useEffect)((function(){var t=function(){var t,n,i,r,o,a;e.isConsentGivenOrNotRequired("Robinhood Marketing Cookies")?null===(t=window)||void 0===t||null===(n=t.ninetailed)||void 0===n||null===(i=n.consent)||void 0===i||i.call(n,!0):(null===(r=window)||void 0===r||null===(o=r.ninetailed)||void 0===o||null===(a=o.consent)||void 0===a||a.call(o,!1),s.AJ.removeItem(s.r3.__nt_anonymous_id__),s.AJ.removeItem(s.r3.__nt_experiences__),s.AJ.removeItem(s.r3.__nt_profile__))};if(!e.isInitialized())return e.on("initialized",t),function(){e.removeListener("initialized",t)};t()}),[e]),null}},34870:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var i=n(23649),r=n(2784);function s(e){return"mobile"===function(e){var t=r.useState("unknown"),n=(0,i.Z)(t,2),s=n[0],o=n[1];return r.useEffect((function(){function t(){o(window.innerWidth<e?"mobile":"desktop")}return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e]),s}(e)}},33089:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var i=n(23649),r=n(2784);function s(e){var t=r.useState(0),n=(0,i.Z)(t,2),s=n[0],o=n[1],a=r.useCallback((function(){o(e?window.document.body.clientWidth:window.innerWidth)}),[e]);return r.useEffect((function(){return o(e?window.document.body.clientWidth:window.innerWidth),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[a,e]),s}},81749:function(e,t,n){"use strict";const i=n(87723);const r=(e,t)=>e&&0!==(e.length??0)?e.reduce(t):null;function*s(e,t,n=(e=>e),r=1){const s=i.isFunction(n)?n:()=>n,o=t??e;for(let i=t?e:0;i<=o&&(yield s(i),!(i+r>o));i+=r);}t.alphabetical=(e,t,n="asc")=>{if(!e)return[];return e.slice().sort("desc"===n?(e,n)=>`${t(n)}`.localeCompare(t(e)):(e,n)=>`${t(e)}`.localeCompare(t(n)))},t.boil=r,t.cluster=(e,t=2)=>{const n=Math.ceil(e.length/t);return new Array(n).fill(null).map(((n,i)=>e.slice(i*t,i*t+t)))},t.counting=(e,t)=>e?e.reduce(((e,n)=>{const i=t(n);return e[i]=(e[i]??0)+1,e}),{}):{},t.diff=(e,t,n=(e=>e))=>{if(!e?.length&&!t?.length)return[];if(void 0===e?.length)return[...t];if(!t?.length)return[...e];const i=t.reduce(((e,t)=>(e[n(t)]=!0,e)),{});return e.filter((e=>!i[n(e)]))},t.first=(e,t)=>e?.length>0?e[0]:t,t.flat=e=>e.reduce(((e,t)=>(e.push(...t),e)),[]),t.fork=(e,t)=>e?e.reduce(((e,n)=>{const[i,r]=e;return t(n)?[[...i,n],r]:[i,[...r,n]]}),[[],[]]):[[],[]],t.group=(e,t)=>e.reduce(((e,n)=>{const i=t(n);return e[i]||(e[i]=[]),e[i].push(n),e}),{}),t.intersects=(e,t,n)=>{if(!e||!t)return!1;const i=n??(e=>e),r=t.reduce(((e,t)=>(e[i(t)]=!0,e)),{});return e.some((e=>r[i(e)]))},t.iterate=(e,t,n)=>{let i=n;for(let r=1;r<=e;r++)i=t(i,r);return i},t.last=(e,t)=>e?.length>0?e[e.length-1]:t,t.list=(e,t,n,i)=>Array.from(s(e,t,n,i)),t.max=(e,t)=>{const n=t||(e=>e);return r(e,((e,t)=>n(e)>n(t)?e:t))},t.merge=(e,t,n)=>t||e?t?e?n?e.reduce(((e,i)=>{const r=t.find((e=>n(i)===n(e)));return r?e.push(r):e.push(i),e}),[]):e:[]:e:[],t.min=(e,t)=>{const n=t||(e=>e);return r(e,((e,t)=>n(e)<n(t)?e:t))},t.objectify=(e,t,n=(e=>e))=>e.reduce(((e,i)=>(e[t(i)]=n(i),e)),{}),t.range=s,t.replace=(e,t,n)=>{if(!e)return[];if(!t)return[...e];for(let i=0;i<e.length;i++){if(n(e[i],i))return[...e.slice(0,i),t,...e.slice(i+1,e.length)]}return[...e]},t.replaceOrAppend=(e,t,n)=>{if(!e&&!t)return[];if(!t)return[...e];if(!e)return[t];for(let i=0;i<e.length;i++){if(n(e[i],i))return[...e.slice(0,i),t,...e.slice(i+1,e.length)]}return[...e,t]},t.select=(e,t,n)=>e?e.reduce(((e,i,r)=>n(i,r)?(e.push(t(i,r)),e):e),[]):[],t.shift=function(e,t){if(0===e.length)return e;const n=t%e.length;return 0===n?e:[...e.slice(-n,e.length),...e.slice(0,-n)]},t.sift=e=>e?.filter((e=>!!e))??[],t.sort=(e,t,n=!1)=>{if(!e)return[];return e.slice().sort(!0===n?(e,n)=>t(n)-t(e):(e,n)=>t(e)-t(n))},t.sum=(e,t)=>(e||[]).reduce(((e,n)=>e+(t?t(n):n)),0),t.toggle=(e,t,n,i)=>{if(!e&&!t)return[];if(!e)return[t];if(!t)return[...e];const r=n?(e,i)=>n(e,i)===n(t,i):e=>e===t;if(e.find(r))return e.filter(((e,t)=>!r(e,t)));return"append"===(i?.strategy??"append")?[...e,t]:[t,...e]},t.unique=(e,t)=>{const n=e.reduce(((e,n)=>{const i=t?t(n):n;return e[i]||(e[i]=n),e}),{});return Object.values(n)},t.zip=function(...e){return e&&e.length?new Array(Math.max(...e.map((({length:e})=>e)))).fill([]).map(((t,n)=>e.map((e=>e[n])))):[]},t.zipToObject=function(e,t){if(!e||!e.length)return{};const n=i.isFunction(t)?t:i.isArray(t)?(e,n)=>t[n]:(e,n)=>t;return e.reduce(((e,t,i)=>(e[t]=n(t,i),e)),{})}},69721:function(e,t,n){"use strict";const i=n(81749),r=n(87723);class s extends Error{constructor(e=[]){super();const t=e.find((e=>e.name))?.name??"";this.name=`AggregateError(${t}...)`,this.message=`AggregateError with ${e.length} errors`,this.stack=e.find((e=>e.stack))?.stack??this.stack,this.errors=e}}const o=e=>new Promise((t=>setTimeout(t,e))),a=e=>async(...t)=>{try{return[void 0,await e(...t)]}catch(n){return[n,void 0]}};t.AggregateError=s,t.all=async function(e){const t=r.isArray(e)?e.map((e=>[null,e])):Object.entries(e),n=await Promise.all(t.map((([e,t])=>t.then((t=>({result:t,exc:null,key:e}))).catch((t=>({result:null,exc:t,key:e})))))),i=n.filter((e=>e.exc));if(i.length>0)throw new s(i.map((e=>e.exc)));return r.isArray(e)?n.map((e=>e.result)):n.reduce(((e,t)=>({...e,[t.key]:t.result})),{})},t.defer=async e=>{const t=[],[n,i]=await a(e)(((e,n)=>t.push({fn:e,rethrow:n?.rethrow??!1})));for(const{fn:r,rethrow:s}of t){const[e]=await a(r)(n);if(e&&s)throw e}if(n)throw n;return i},t.guard=(e,t)=>{const n=e=>{if(t&&!t(e))throw e};try{const t=e();return(e=>e instanceof Promise)(t)?t.catch(n):t}catch(i){return n(i)}},t.map=async(e,t)=>{if(!e)return[];let n=[],i=0;for(const r of e){const e=await t(r,i++);n.push(e)}return n},t.parallel=async(e,t,n)=>{const r=t.map(((e,t)=>({index:t,item:e}))),o=async e=>{const t=[];for(;;){const i=r.pop();if(!i)return e(t);const[s,o]=await a(n)(i.item);t.push({error:s,result:o,index:i.index})}},c=i.list(1,e).map((()=>new Promise(o))),u=await Promise.all(c),[l,d]=i.fork(i.sort(u.flat(),(e=>e.index)),(e=>!!e.error));if(l.length>0)throw new s(l.map((e=>e.error)));return d.map((e=>e.result))},t.reduce=async(e,t,n)=>{const i=void 0!==n;if(!i&&e?.length<1)throw new Error("Cannot reduce empty array with no init value");const r=i?e:e.slice(1);let s=i?n:e[0];for(const o of r)s=await t(s,o);return s},t.retry=async(e,t)=>{const n=e?.times??3,r=e?.delay,s=e?.backoff??null;for(const c of i.range(1,n)){const[e,i]=await a(t)((e=>{throw{_exited:e}}));if(!e)return i;if(e._exited)throw e._exited;if(c===n)throw e;r&&await o(r),s&&await o(s(c))}},t.sleep=o,t.tryit=a},49925:function(e,t){"use strict";t.callable=(e,t)=>new Proxy(Object.assign((()=>{}),e),{get:(e,t)=>e[t],set:(e,t,n)=>(e[t]=n,!0),apply:(e,n,i)=>t(Object.assign({},e))(...i)}),t.chain=(...e)=>(...t)=>e.slice(1).reduce(((e,t)=>t(e)),e[0](...t)),t.compose=(...e)=>e.reverse().reduce(((e,t)=>t(e))),t.debounce=({delay:e},t)=>{let n,i=!0;const r=(...r)=>{i?(clearTimeout(n),n=setTimeout((()=>{i&&t(...r)}),e)):t(...r)};return r.cancel=()=>{i=!1},r.flush=(...e)=>t(...e),r},t.memo=(e,t={})=>((e,t,n,i)=>function(...r){const s=n?n(...r):JSON.stringify({args:r}),o=e[s];if(void 0!==o){if(!o.exp)return o.value;if(o.exp>(new Date).getTime())return o.value}const a=t(...r);return e[s]={exp:i?(new Date).getTime()+i:null,value:a},a})({},e,t.key??null,t.ttl??null),t.partial=(e,...t)=>(...n)=>e(...t,...n),t.partob=(e,t)=>n=>e({...t,...n}),t.proxied=e=>new Proxy({},{get:(t,n)=>e(n)}),t.throttle=({interval:e},t)=>{let n=!0;return(...i)=>{n&&(t(...i),n=!1,setTimeout((()=>{n=!0}),e))}}},92891:function(e,t,n){"use strict";const i=n(81749),r=n(69721),s=n(49925),o=n(15478),a=n(38899),c=n(61226),u=n(97130),l=n(6535),d=n(87723);t.alphabetical=i.alphabetical,t.boil=i.boil,t.cluster=i.cluster,t.counting=i.counting,t.diff=i.diff,t.first=i.first,t.flat=i.flat,t.fork=i.fork,t.group=i.group,t.intersects=i.intersects,t.iterate=i.iterate,t.last=i.last,t.list=i.list,t.max=i.max,t.merge=i.merge,t.min=i.min,t.objectify=i.objectify,t.range=i.range,t.replace=i.replace,t.replaceOrAppend=i.replaceOrAppend,t.select=i.select,t.shift=i.shift,t.sift=i.sift,t.sort=i.sort,t.sum=i.sum,t.toggle=i.toggle,t.unique=i.unique,t.zip=i.zip,t.zipToObject=i.zipToObject,t.all=r.all,t.defer=r.defer,t.guard=r.guard,t.map=r.map,t.parallel=r.parallel,t.reduce=r.reduce,t.retry=r.retry,t.sleep=r.sleep,t.try=r.tryit,t.tryit=r.tryit,t.callable=s.callable,t.chain=s.chain,t.compose=s.compose,t.debounce=s.debounce,t.memo=s.memo,t.partial=s.partial,t.partob=s.partob,t.proxied=s.proxied,t.throttle=s.throttle,t.toFloat=o.toFloat,t.toInt=o.toInt,t.assign=a.assign,t.clone=a.clone,t.construct=a.construct,t.crush=a.crush,t.get=a.get,t.invert=a.invert,t.keys=a.keys,t.listify=a.listify,t.lowerize=a.lowerize,t.mapEntries=a.mapEntries,t.mapKeys=a.mapKeys,t.mapValues=a.mapValues,t.omit=a.omit,t.pick=a.pick,t.set=a.set,t.shake=a.shake,t.upperize=a.upperize,t.draw=c.draw,t.random=c.random,t.shuffle=c.shuffle,t.uid=c.uid,t.series=u.series,t.camel=l.camel,t.capitalize=l.capitalize,t.dash=l.dash,t.pascal=l.pascal,t.snake=l.snake,t.template=l.template,t.title=l.title,t.trim=l.trim,t.isArray=d.isArray,t.isDate=d.isDate,t.isEmpty=d.isEmpty,t.isEqual=d.isEqual,t.isFloat=d.isFloat,t.isFunction=d.isFunction,t.isInt=d.isInt,t.isNumber=d.isNumber,t.isObject=d.isObject,t.isPrimitive=d.isPrimitive,t.isString=d.isString,t.isSymbol=d.isSymbol},15478:function(e,t){"use strict";t.toFloat=(e,t)=>{const n=void 0===t?0:t;if(null===e||void 0===e)return n;const i=parseFloat(e);return isNaN(i)?n:i},t.toInt=(e,t)=>{const n=void 0===t?0:t;if(null===e||void 0===e)return n;const i=parseInt(e);return isNaN(i)?n:i}},38899:function(e,t,n){"use strict";const i=n(81749),r=n(15478),s=n(87723),o=(e,t)=>Object.keys(e).reduce(((n,i)=>(n[t(i,e[i])]=e[i],n)),{}),a=e=>{if(s.isPrimitive(e))return e;if("function"===typeof e)return e.bind({});const t=new e.constructor;return Object.getOwnPropertyNames(e).forEach((n=>{t[n]=e[n]})),t},c=(e,t,n=null)=>{const i=t.split(/[\.\[\]]/g);let r=e;for(const s of i){if(null===r)return n;if(void 0===r)return n;""!==s.trim()&&(r=r[s])}return void 0===r?n:r},u=(e,t,n)=>{if(!e)return{};if(!t||!n)return e;const i=t.split(/[\.\[\]]/g).filter((e=>!!e.trim())),s=e=>{if(i.length>1){const t=i.shift(),n=null!==r.toInt(i[0],null);e[t]=void 0===e[t]?n?[]:{}:e[t],s(e[t])}else e[i[0]]=n},o=a(e);return s(o),o},l=(e,t)=>e||t?e?t?Object.entries(e).reduce(((e,[n,i])=>({...e,[n]:s.isObject(i)?l(i,t[n]):t[n]})),{}):e:t:{},d=e=>{if(!e)return[];const t=(e,n)=>s.isObject(e)?Object.entries(e).flatMap((([e,i])=>t(i,[...n,e]))):s.isArray(e)?e.flatMap(((e,i)=>t(e,[...n,`${i}`]))):[n.join(".")];return t(e,[])};t.assign=l,t.clone=a,t.construct=e=>e?Object.keys(e).reduce(((t,n)=>u(t,n,e[n])),{}):{},t.crush=e=>e?i.objectify(d(e),(e=>e),(t=>c(e,t))):{},t.get=c,t.invert=e=>{if(!e)return{};return Object.keys(e).reduce(((t,n)=>(t[e[n]]=n,t)),{})},t.keys=d,t.listify=(e,t)=>{if(!e)return[];const n=Object.entries(e);return 0===n.length?[]:n.reduce(((e,n)=>(e.push(t(n[0],n[1])),e)),[])},t.lowerize=e=>o(e,(e=>e.toLowerCase())),t.mapEntries=(e,t)=>e?Object.entries(e).reduce(((e,[n,i])=>{const[r,s]=t(n,i);return e[r]=s,e}),{}):{},t.mapKeys=o,t.mapValues=(e,t)=>Object.keys(e).reduce(((n,i)=>(n[i]=t(e[i],i),n)),{}),t.omit=(e,t)=>e?t&&0!==t.length?t.reduce(((e,t)=>(delete e[t],e)),{...e}):e:{},t.pick=(e,t)=>e?t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}):{},t.set=u,t.shake=(e,t=(e=>void 0===e))=>{if(!e)return{};return Object.keys(e).reduce(((n,i)=>(t(e[i])||(n[i]=e[i]),n)),{})},t.upperize=e=>o(e,(e=>e.toUpperCase()))},61226:function(e,t,n){"use strict";const i=n(81749),r=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);t.draw=e=>{const t=e.length;if(0===t)return null;return e[r(0,t-1)]},t.random=r,t.shuffle=e=>e.map((e=>({rand:Math.random(),value:e}))).sort(((e,t)=>e.rand-t.rand)).map((e=>e.value)),t.uid=(e,t="")=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"+t;return i.iterate(e,(e=>e+n.charAt(r(0,n.length-1))),"")}},97130:function(e,t,n){"use strict";const i=n(81749);t.series=(e,t=(e=>`${e}`))=>{const{indexesByKey:n,itemsByIndex:r}=e.reduce(((e,n,i)=>({indexesByKey:{...e.indexesByKey,[t(n)]:i},itemsByIndex:{...e.itemsByIndex,[i]:n}})),{indexesByKey:{},itemsByIndex:{}}),s=()=>r[0],o=()=>r[e.length-1],a=(e,i)=>r[n[t(e)]+1]??i??s(),c=(e,i)=>r[n[t(e)]-1]??i??o();return{min:(e,i)=>n[t(e)]<n[t(i)]?e:i,max:(e,i)=>n[t(e)]>n[t(i)]?e:i,first:s,last:o,next:a,previous:c,spin:(t,n)=>{if(0===n)return t;const r=Math.abs(n),s=r>e.length?r%e.length:r;return i.list(0,s-1).reduce((e=>n>0?a(e):c(e)),t)}}}},6535:function(e,t){"use strict";const n=e=>{if(!e||0===e.length)return"";const t=e.toLowerCase();return t.substring(0,1).toUpperCase()+t.substring(1,t.length)};t.camel=e=>{const t=e?.replace(/([A-Z])+/g,n)?.split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}${t.charAt(0).toUpperCase()}${t.slice(1)}`))},t.capitalize=n,t.dash=e=>{const t=e?.replace(/([A-Z])+/g,n)?.split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}-${t.toLowerCase()}`))},t.pascal=e=>{const t=e?.split(/[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")},t.snake=e=>{const t=e?.replace(/([A-Z])+/g,n).split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}_${t.toLowerCase()}`))},t.template=(e,t,n=/\{\{(.+?)\}\}/g)=>Array.from(e.matchAll(n)).reduce(((e,n)=>e.replace(n[0],t[n[1]])),e),t.title=e=>e?e.split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.trim())).filter((e=>!!e)).map((e=>n(e.toLowerCase()))).join(" "):"",t.trim=(e,t=" ")=>{if(!e)return"";const n=new RegExp(`^[${t}]+|[${t}]+$`,"g");return e.replace(n,"")}},87723:function(e,t){"use strict";const n=e=>!!e&&e.constructor===Symbol,i=e=>!!(e&&e.constructor&&e.call&&e.apply),r=e=>{try{return Number(e)===e}catch{return!1}},s=e=>"[object Date]"===Object.prototype.toString.call(e),o=(e,t)=>{if(Object.is(e,t))return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.toString()===t.toString();if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Reflect.ownKeys(e),i=Reflect.ownKeys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){if(!Reflect.has(t,n[r]))return!1;if(!o(e[n[r]],t[n[r]]))return!1}return!0};t.isArray=e=>!!e&&e.constructor===Array,t.isDate=s,t.isEmpty=e=>{if(!0===e||!1===e)return!0;if(null===e||void 0===e)return!0;if(r(e))return 0===e;if(s(e))return isNaN(e.getTime());if(i(e))return!1;if(n(e))return!1;const t=e.length;if(r(t))return 0===t;const o=e.size;if(r(o))return 0===o;return 0===Object.keys(e).length},t.isEqual=o,t.isFloat=e=>r(e)&&e%1!==0,t.isFunction=i,t.isInt=e=>r(e)&&e%1===0,t.isNumber=r,t.isObject=e=>!!e&&e.constructor===Object,t.isPrimitive=e=>void 0===e||null===e||"object"!==typeof e&&"function"!==typeof e,t.isString=e=>"string"===typeof e||e instanceof String,t.isSymbol=n},55828:function(e){"use strict";function t(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?"\\"+e:e}function n(e,i){if(void 0===i&&(i=!0),Array.isArray(e))return"(?:"+e.map((function(e){return"^"+n(e,i)+"$"})).join("|")+")";var r="",s="",o=".";!0===i?(r="/",s="[/\\\\]",o="[^/\\\\]"):i&&(o=(s=function(e){for(var n="",i=0;i<e.length;i++)n+=t(e[i]);return n}(r=i)).length>1?"((?!"+(s="(?:"+s+")")+").)":"[^"+s+"]");for(var a=i?s+"+?":"",c=i?s+"*?":"",u=i?e.split(r):[e],l="",d=0;d<u.length;d++){var f=u[d],p=u[d+1],h="";if(f||!(d>0))if(i&&(h=d===u.length-1?c:"**"!==p?a:""),i&&"**"===f)h&&(l+=0===d?"":h,l+="(?:"+o+"*?"+h+")*?");else{for(var g=0;g<f.length;g++){var v=f[g];"\\"===v?g<f.length-1&&(l+=t(f[g+1]),g++):l+="?"===v?o:"*"===v?o+"*?":t(v)}l+=h}}return l}function i(e,t){if("string"!==typeof t)throw new TypeError("Sample must be a string, but "+typeof t+" given");return e.test(t)}e.exports=function(e,t){if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("The first argument must be a single pattern string or an array of patterns, but "+typeof e+" given");if("string"!==typeof t&&"boolean"!==typeof t||(t={separator:t}),2===arguments.length&&"undefined"!==typeof t&&("object"!==typeof t||null===t||Array.isArray(t)))throw new TypeError("The second argument must be an options object or a string/boolean separator, but "+typeof t+" given");if("\\"===(t=t||{}).separator)throw new Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");var r=n(e,t.separator),s=new RegExp("^"+r+"$",t.flags),o=i.bind(null,s);return o.options=t,o.pattern=e,o.regexp=s,o}}}]);